[
  {
    "id": 1,
    "node_type": "Repository",
    "version": 1,
    "sequence": 1,
    "enabled": true,
    "input_sources": "{\"files\": [], \"nodes\": []}",
    "instruction": "Extract repository metadata including name, URL, branch, and commit hash from the repository root.",
    "example": "{\"repoName\": \"my-repo\", \"url\": \"https://github.com/user/my-repo\", \"branch\": \"main\", \"commit\": \"abc123\", \"confidence\": 1.0}",
    "is_active": true,
    "created_at": "2025-11-07T10:15:44.067130",
    "extraction_method": "structural",
    "temperature": null,
    "max_tokens": null
  },
  {
    "id": 2,
    "node_type": "Directory",
    "version": 1,
    "sequence": 2,
    "enabled": true,
    "input_sources": "{\"files\": [], \"nodes\": [\"Repository\"]}",
    "instruction": "Extract directory structure from {{repository}}. Create a node for each directory in the hierarchy.",
    "example": "{\"name\": \"src\", \"path\": \"my-repo/src\", \"confidence\": 1.0}",
    "is_active": true,
    "created_at": "2025-11-07T10:15:44.069517",
    "extraction_method": "structural",
    "temperature": null,
    "max_tokens": null
  },
  {
    "id": 3,
    "node_type": "File",
    "version": 1,
    "sequence": 3,
    "enabled": true,
    "input_sources": "{\"files\": [{\"type\": \"source\", \"subtype\": \"*\"}, {\"type\": \"config\", \"subtype\": \"*\"}, {\"type\": \"docs\", \"subtype\": \"*\"}, {\"type\": \"test\", \"subtype\": \"*\"}, {\"type\": \"build\", \"subtype\": \"*\"}, {\"type\": \"data\", \"subtype\": \"*\"}], \"nodes\": [\"Directory\"]}",
    "instruction": "Extract individual files from {{input_directories}}, classify by type using the file type registry, and calculate basic metrics. Group similar files into patterns when detected (e.g., data_[N].json).\n\nExample: {{example}}",
    "example": "{\"fileName\": \"auth.py\", \"filePath\": \"src/auth/auth.py\", \"fileType\": \"source\", \"subtype\": \"python\", \"size\": 2048, \"complexityScore\": 0.6, \"confidence\": 1.0}",
    "is_active": true,
    "created_at": "2025-11-07T10:15:44.072212",
    "extraction_method": "structural",
    "temperature": null,
    "max_tokens": null
  },
  {
    "id": 4,
    "node_type": "BusinessConcept",
    "version": 1,
    "sequence": 4,
    "enabled": true,
    "input_sources": "{\"files\": [{\"type\": \"docs\", \"subtype\": \"*\"}], \"nodes\": [\"File\"]}",
    "instruction": "Extract ONLY high-level business domain concepts from the documentation. Focus on the \"what\" of the business, NOT the \"how\" of implementation.\n\nINCLUDE (Business Domain):\n- Business Entities: domain objects like Invoice, Customer, Order, Product, Payment\n- Business Actors: roles like Client, Vendor, Supplier (NOT generic User/Admin)\n- Business Processes: workflows like Billing, Fulfillment, Approval\n- Business Events: occurrences like Order Placed, Payment Received\n- Business Rules: policies with business meaning\n\nEXCLUDE (Technical/Implementation):\n- Frameworks, libraries, tools (any technology names)\n- Programming languages and technical operations\n- CRUD operations, API endpoints, database queries\n- Infrastructure, servers, deployments\n- Generic actors like User, System, Admin\n\nLIMIT: Maximum 5-7 concepts per file\nCONFIDENCE: Only include concepts with confidence >= 0.7",
    "example": "{\"conceptName\": \"Invoice\", \"conceptType\": \"entity\", \"description\": \"Document representing a billing transaction with line items and payment terms\", \"originSource\": \"docs/readme.md\", \"confidence\": 0.9}",
    "is_active": false,
    "created_at": "2025-11-07T10:15:44.074751",
    "extraction_method": "llm",
    "temperature": null,
    "max_tokens": null
  },
  {
    "id": 11,
    "node_type": "BusinessConcept",
    "version": 2,
    "sequence": 4,
    "enabled": true,
    "input_sources": "{\"files\": [{\"type\": \"docs\", \"subtype\": \"*\"}], \"nodes\": [\"File\"]}",
    "instruction": "Extract ONLY high-level business domain concepts from the documentation. Focus on the 'what' of the business, NOT the 'how' of implementation.\n\nNAMING CONSISTENCY RULES (CRITICAL):\n- Use SINGULAR form for entity names: 'Invoice' not 'Invoices', 'Position' not 'Positions'\n- Use CamelCase for multi-word names: 'InvoiceDetail' not 'invoice_detail' or 'Invoice Detail'\n- Be SPECIFIC: 'InvoicePosition' not 'Position' (include context)\n- Use domain terminology from the code, not synonyms\n\nINCLUDE (Business Domain):\n- Business Entities: domain objects like Invoice, Customer, Order, Product, Payment\n- Business Actors: roles like Client, Vendor, Supplier (NOT generic User/Admin)\n- Business Processes: workflows like Billing, Fulfillment, Approval\n- Business Events: occurrences like OrderPlaced, PaymentReceived\n- Business Rules: policies with business meaning\n\nEXCLUDE (Technical/Implementation):\n- Frameworks, libraries, tools (any technology names)\n- Programming languages and technical operations\n- CRUD operations, API endpoints, database queries\n- Infrastructure, servers, deployments\n- Generic actors like User, System, Admin\n\nLIMIT: Maximum 5-7 concepts per file\nCONFIDENCE: Only include concepts with confidence >= 0.7",
    "example": "{\"conceptName\": \"Invoice\", \"conceptType\": \"entity\", \"description\": \"Document representing a billing transaction with line items and payment terms\", \"originSource\": \"docs/readme.md\", \"confidence\": 0.9}",
    "is_active": true,
    "created_at": "2026-01-08T10:30:54.201302",
    "extraction_method": "llm",
    "temperature": null,
    "max_tokens": null
  },
  {
    "id": 5,
    "node_type": "Technology",
    "version": 1,
    "sequence": 5,
    "enabled": true,
    "input_sources": "{\"files\": [{\"type\": \"dependency\", \"subtype\": \"*\"}, {\"type\": \"config\", \"subtype\": \"*\"}, {\"type\": \"build\", \"subtype\": \"*\"}], \"nodes\": []}",
    "instruction": "Extract HIGH-LEVEL technology infrastructure components that will map to ArchiMate Technology Layer elements.\n\nFocus ONLY on:\n- Technology Services: Authentication services, API gateways, message queues, caching services\n- System Software: Databases (PostgreSQL, MySQL, MongoDB), web servers (Nginx, Apache), caches (Redis, Memcached)\n- Infrastructure/Platform: Cloud platforms (AWS, Azure, GCP), container platforms (Docker, Kubernetes), serverless\n- Network: API protocols, communication patterns (REST, GraphQL, gRPC, WebSocket)\n- Security/IAM: Authentication mechanisms (OAuth2, JWT, SAML), identity providers\n\nDO NOT include:\n- Low-level libraries or utility packages (these go in ExternalDependency)\n- Programming language standard libraries\n- Development tools or testing frameworks\n\nFor each technology, determine:\n- techName: Name of the technology\n- techCategory: One of [service, system_software, infrastructure, platform, network, security]\n- description: Brief description of its role in the system architecture\n- version: Version if specified (or null)\n- confidence: Your confidence in this extraction (0.0 to 1.0)",
    "example": "{\"techName\": \"PostgreSQL\", \"techCategory\": \"system_software\", \"description\": \"Primary relational database for application data\", \"version\": \"15\", \"confidence\": 0.95}",
    "is_active": false,
    "created_at": "2025-11-07T10:15:44.077081",
    "extraction_method": "llm",
    "temperature": null,
    "max_tokens": null
  },
  {
    "id": 12,
    "node_type": "Technology",
    "version": 2,
    "sequence": 5,
    "enabled": true,
    "input_sources": "{\"files\": [{\"type\": \"dependency\", \"subtype\": \"*\"}, {\"type\": \"config\", \"subtype\": \"*\"}, {\"type\": \"build\", \"subtype\": \"*\"}], \"nodes\": []}",
    "instruction": "Extract HIGH-LEVEL technology infrastructure components that will map to ArchiMate Technology Layer elements.\n\nNAMING CONSISTENCY RULES (CRITICAL):\n- Use OFFICIAL product names with proper capitalization: 'SQLAlchemy' not 'sqlalchemy', 'Flask' not 'flask'\n- For generic technologies, use the specific product name: 'SQLite' not 'sqlite_database'\n- Never add suffixes like '_orm', '_database', '_service' to product names\n- Compound names use official naming: 'Flask-WTF' not 'FlaskWTF' or 'flask_wtf'\n\nFocus ONLY on:\n- Technology Services: Authentication services, API gateways, message queues, caching services\n- System Software: Databases (PostgreSQL, MySQL, MongoDB), web servers (Nginx, Apache), caches (Redis, Memcached)\n- Infrastructure/Platform: Cloud platforms (AWS, Azure, GCP), container platforms (Docker, Kubernetes)\n- Network: API protocols, communication patterns (REST, GraphQL, gRPC, WebSocket)\n- Security/IAM: Authentication mechanisms (OAuth2, JWT, SAML), identity providers\n\nDO NOT include:\n- Low-level libraries or utility packages (these go in ExternalDependency)\n- Programming language standard libraries\n- Development tools or testing frameworks\n\nFor each technology, determine:\n- techName: OFFICIAL product name with proper capitalization\n- techCategory: One of [service, system_software, infrastructure, platform, network, security]\n- description: Brief description of its role in the system architecture\n- version: Version if specified (or null)\n- confidence: Your confidence in this extraction (0.0 to 1.0)",
    "example": "{\"techName\": \"PostgreSQL\", \"techCategory\": \"system_software\", \"description\": \"Primary relational database for application data\", \"version\": \"15\", \"confidence\": 0.95}",
    "is_active": true,
    "created_at": "2026-01-08T10:31:11.379184",
    "extraction_method": "llm",
    "temperature": null,
    "max_tokens": null
  },
  {
    "id": 6,
    "node_type": "ExternalDependency",
    "version": 1,
    "sequence": 6,
    "enabled": true,
    "input_sources": "{\"files\": [{\"type\": \"dependency\", \"subtype\": \"*\"}, {\"type\": \"config\", \"subtype\": \"*\"}, {\"type\": \"source\", \"subtype\": \"*\"}], \"nodes\": []}",
    "instruction": "Extract external dependencies including libraries, external APIs, and external service integrations.\n\nCRITICAL: Use the OFFICIAL product name with proper capitalization.\nExamples of correct naming:\n- Flask (not \"flask\")\n- SQLAlchemy (not \"sqlalchemy\")\n- Bootstrap (not \"bootstrap\")\n- jQuery (not \"jquery\")\n- WeasyPrint (not \"weasyprint\")\n- Popper.js (not \"popper.js\" or \"popper\")\n- Jinja2 (not \"jinja2\")\n- WTForms (not \"wtforms\")\n\nCategories to extract:\n1. LIBRARIES: Package dependencies from manifest files\n   - Runtime libraries (Flask, React, Express)\n   - Utility libraries (Lodash, Requests, Axios)\n\n2. EXTERNAL APIS: Third-party API integrations found in code/config\n   - Payment APIs (Stripe, PayPal, Square)\n   - Communication APIs (SendGrid, Twilio, Mailchimp)\n\n3. EXTERNAL SERVICES: External systems the application connects to\n   - External databases (MongoDB Atlas, AWS RDS)\n   - External storage (S3, Azure Blob)\n\nFor each dependency, identify:\n- dependencyName: Official product name with proper capitalization\n- dependencyCategory: One of [library, external_api, external_service, external_database]\n- version: Version constraint if applicable (or null)\n- ecosystem: Package ecosystem for libraries (pypi, npm, maven) or provider for APIs/services\n- description: What this dependency is used for\n- confidence: Your confidence in this extraction (0.0 to 1.0)",
    "example": "{\"dependencyName\": \"Stripe\", \"dependencyCategory\": \"external_api\", \"version\": \"5.0.0\", \"ecosystem\": \"pypi\", \"description\": \"Payment processing API client\", \"confidence\": 0.95}",
    "is_active": false,
    "created_at": "2025-11-07T10:15:44.079380",
    "extraction_method": "llm",
    "temperature": null,
    "max_tokens": null
  },
  {
    "id": 13,
    "node_type": "ExternalDependency",
    "version": 2,
    "sequence": 6,
    "enabled": true,
    "input_sources": "{\"files\": [{\"type\": \"dependency\", \"subtype\": \"*\"}, {\"type\": \"config\", \"subtype\": \"*\"}, {\"type\": \"source\", \"subtype\": \"*\"}], \"nodes\": []}",
    "instruction": "Extract external dependencies including libraries, external APIs, and external service integrations.\n\nNAMING CONSISTENCY RULES (CRITICAL - MUST FOLLOW):\n- Use OFFICIAL PyPI/npm package names EXACTLY as they appear in the package registry\n- Capitalize properly: 'Flask' (not 'flask'), 'SQLAlchemy' (not 'sqlalchemy'), 'Jinja2' (not 'jinja2')\n- Never add descriptive suffixes: 'SQLAlchemy' not 'SQLAlchemy_ORM', 'Flask' not 'Flask_Web_Framework'\n- Compound names preserve original format: 'Flask-WTF' (with hyphen), 'python-dotenv' (lowercase with hyphen)\n\nEXAMPLES OF CORRECT NAMING:\n- Flask, SQLAlchemy, Jinja2, WTForms, WeasyPrint\n- Bootstrap, jQuery, Popper.js\n- python-dotenv, Flask-WTF, Flask-SQLAlchemy\n- requests, pydantic, lxml, marimo\n\nCategories to extract:\n1. LIBRARIES: Package dependencies from manifest files\n2. EXTERNAL APIS: Third-party API integrations found in code/config\n3. EXTERNAL SERVICES: External systems the application connects to\n4. EXTERNAL DATABASES: External database services\n\nFor each dependency:\n- dependencyName: EXACT official package/product name with proper capitalization\n- dependencyCategory: One of [library, external_api, external_service, external_database]\n- version: Version constraint if applicable (or null)\n- ecosystem: Package ecosystem (pypi, npm, maven) or provider for APIs/services\n- description: What this dependency is used for\n- confidence: Your confidence in this extraction (0.0 to 1.0)",
    "example": "{\"dependencyName\": \"Stripe\", \"dependencyCategory\": \"external_api\", \"version\": \"5.0.0\", \"ecosystem\": \"pypi\", \"description\": \"Payment processing API client\", \"confidence\": 0.95}",
    "is_active": true,
    "created_at": "2026-01-08T10:31:27.180795",
    "extraction_method": "llm",
    "temperature": null,
    "max_tokens": null
  },
  {
    "id": 7,
    "node_type": "TypeDefinition",
    "version": 1,
    "sequence": 7,
    "enabled": true,
    "input_sources": "{\"files\": [{\"type\": \"source\", \"subtype\": \"*\"}], \"nodes\": []}",
    "instruction": "Extract type definitions (classes, interfaces, structs, enums, functions) from source files.\n\nFor each type definition, identify:\n- typeName: The name of the type (class name, function name, etc.)\n- category: One of [class, interface, struct, enum, function, alias, module, other]\n- description: A brief description of the type purpose based on its name, docstrings, and context\n- interfaceType: If this type exposes an API, specify one of [REST API, GraphQL, gRPC, WebSocket, CLI, Internal API], otherwise use \"none\"\n- startLine: Line number where the type definition starts (use line numbers shown in file)\n- endLine: Line number where the type definition ends (include the full body)\n- confidence: Your confidence in this extraction (0.0 to 1.0)\n\nIMPORTANT: Use the exact line numbers shown in the file content.",
    "example": "{\"typeName\": \"UserRepository\", \"category\": \"class\", \"description\": \"Data access layer for User entities\", \"interfaceType\": \"Internal API\", \"startLine\": 15, \"endLine\": 45, \"confidence\": 0.9}",
    "is_active": false,
    "created_at": "2025-11-07T10:15:44.081679",
    "extraction_method": "llm",
    "temperature": null,
    "max_tokens": null
  },
  {
    "id": 10,
    "node_type": "TypeDefinition",
    "version": 2,
    "sequence": 7,
    "enabled": true,
    "input_sources": "{\"files\": [{\"type\": \"source\", \"subtype\": \"*\"}], \"nodes\": []}",
    "instruction": "Extract type definitions (classes, interfaces, structs, enums, standalone functions) from source files.\n\nRULES:\n1. Only extract TOP-LEVEL definitions (not nested classes/functions inside other definitions)\n2. For classes: extract the class itself, NOT its methods (methods are extracted separately)\n3. For functions: only extract standalone functions at module level, NOT methods inside classes\n4. Include: classes, interfaces, structs, enums, type aliases, top-level functions\n5. Exclude: decorated route handlers (like @app.route), test functions, helper lambdas\n\nFor each type definition, provide:\n- typeName: The exact name as defined in code\n- category: One of [class, interface, struct, enum, function, alias, module, other]\n- description: Brief 1-sentence description based on docstring or context\n- interfaceType: One of [REST API, GraphQL, gRPC, WebSocket, CLI, Internal API, none]\n- startLine: Line number where definition starts\n- endLine: Line number where definition ends (closing brace or dedent)\n- confidence: 0.0 to 1.0\n\nIMPORTANT: Be conservative - only extract clear type definitions, skip ambiguous cases.",
    "example": "{\"typeName\": \"UserRepository\", \"category\": \"class\", \"description\": \"Data access layer for User entities\", \"interfaceType\": \"Internal API\", \"startLine\": 15, \"endLine\": 45, \"confidence\": 0.9}",
    "is_active": true,
    "created_at": "2026-01-02T16:56:32.657927",
    "extraction_method": "llm",
    "temperature": null,
    "max_tokens": null
  },
  {
    "id": 8,
    "node_type": "Method",
    "version": 1,
    "sequence": 8,
    "enabled": true,
    "input_sources": "{\"files\": [], \"nodes\": [{\"label\": \"TypeDefinition\", \"property\": \"codeSnippet\"}]}",
    "instruction": "Extract methods and functions from the type definition code snippet.\n\nFor each method, identify:\n- methodName: The name of the method or function\n- returnType: Return type (use \"None\" for Python methods without explicit return, \"void\" for other languages)\n- visibility: Access level - \"public\", \"private\", or \"protected\"\n  - Python: no prefix = public, _prefix = private, __prefix = protected\n  - Other languages: use explicit keywords (public, private, protected)\n- parameters: Parameter signature as a string (e.g., \"self, name: str, age: int\")\n- description: Brief description of what the method does based on name and context\n- isStatic: true if static method (@staticmethod in Python, static keyword in others)\n- isAsync: true if async method (async def in Python, async keyword in others)\n- startLine: Line number where the method starts (relative to the snippet shown)\n- endLine: Line number where the method ends\n- confidence: Your confidence in this extraction (0.0 to 1.0)\n\nInclude special methods like __init__, __str__, __repr__, etc.\nSkip module-level imports and constants.\n\nIMPORTANT: Use the exact line numbers shown in the code snippet.",
    "example": "{\"methodName\": \"authenticate\", \"returnType\": \"bool\", \"visibility\": \"public\", \"parameters\": \"self, username: str, password: str\", \"description\": \"Authenticates a user with credentials\", \"isStatic\": false, \"isAsync\": false, \"startLine\": 5, \"endLine\": 12, \"confidence\": 0.9}",
    "is_active": true,
    "created_at": "2025-11-07T10:15:44.084119",
    "extraction_method": "llm",
    "temperature": null,
    "max_tokens": null
  },
  {
    "id": 9,
    "node_type": "Test",
    "version": 1,
    "sequence": 9,
    "enabled": true,
    "input_sources": "{\"files\": [{\"type\": \"test\", \"subtype\": \"*\"}], \"nodes\": []}",
    "instruction": "Extract test definitions from test files.\n\nFor each test, identify:\n- testName: Name of the test function/method\n- testType: One of [unit, integration, e2e, performance, smoke, regression, other]\n- description: Brief description of what the test verifies\n- testedElement: What is being tested (class name, function name, feature name)\n- framework: Test framework used (e.g., \"pytest\", \"unittest\", \"jest\", \"mocha\")\n- startLine: Line number where the test starts\n- endLine: Line number where the test ends\n- confidence: Your confidence in this extraction (0.0 to 1.0)\n\nIdentify the test type based on:\n- File location (e.g., tests/unit/, tests/integration/)\n- Test name patterns (test_unit_*, test_integration_*)\n- Test content and what it is testing (mocking = unit, real services = integration)\n\nIMPORTANT: Use the exact line numbers shown in the file content.",
    "example": "{\"testName\": \"test_user_authentication\", \"testType\": \"unit\", \"description\": \"Tests user login with valid credentials\", \"testedElement\": \"UserService.authenticate\", \"framework\": \"pytest\", \"startLine\": 10, \"endLine\": 25, \"confidence\": 0.9}",
    "is_active": true,
    "created_at": "2025-11-07T10:15:44.086606",
    "extraction_method": "llm",
    "temperature": null,
    "max_tokens": null
  }
]